<div class="page-wrapper">
    <lhs-header></lhs-header>
    <div class="container-fluid page-wrap">
        <div class="page-title">

            <div class="scheduler-upper-content">
                <div class="row">

                    <div class="col-lg-12 col-md-2 text-right">
                        <a href="javascript:void(0);" class="btn link-filter" (click)="toggleFilters()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12.751" height="12.732"
                                viewBox="0 0 12.751 12.732">
                                <path id="iconfinder_filter_1608702"
                                    d="M203.675,256.353a.522.522,0,0,1-.127.633l-4.458,4.458v6.71a.541.541,0,0,1-.353.534.629.629,0,0,1-.226.045.537.537,0,0,1-.407-.172l-2.315-2.315a.556.556,0,0,1-.172-.407v-4.395l-4.458-4.458a.522.522,0,0,1-.127-.633.541.541,0,0,1,.534-.353h11.575A.541.541,0,0,1,203.675,256.353Z"
                                    transform="translate(-190.979 -256)" fill="#fff" />
                            </svg>
                        </a>
                    </div>
                </div>
                <div class="filter-wrap" *ngIf="show">
                    <form [formGroup]="rForm" (ngSubmit)="getEmployeeShiftList()">
                        <div class="row">
                            <div class="col-md-6 col-sm-12">
                                <div class="form-group">
                                    <label class="field-label">Location</label>
                                    <mat-form-field>
                                        <mat-select placeholder="Select Location" formControlName="locationId">
                                            <mat-option *ngFor="let list of LocationList" [value]="list.locationId">
                                                {{list.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-6 col-sm-12">
                                <div class="form-group">
                                    <label class="field-label">House/ Other Location</label>
                                    <lib-googleaddress autofocus autocomplete="off" [control]="otherLocation"
                                        (onAddressChange)="handleAddressChange($event)">
                                    </lib-googleaddress>
                                    <!-- <mat-form-field appearance="fill">
                                <input formControlName="otherLocation" matInput placeholder="Enter Location Address" >
                            </mat-form-field> -->
                                </div>
                            </div>
                            <!-- <div class="col-md-4 col-sm-12">
                        <div class="form-group">
                            <label class="field-label">Client</label>
                            <mat-form-field>
                                <mat-select placeholder="Select Client" formControlName="clientId">
                                    <mat-option *ngFor="let list of clientNameList" [value]="list.id">
                                        {{list.fullName}}
                                    </mat-option>  
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div> -->

                            <div class="col-md-6 col-sm-12">
                                <div class="form-group">
                                    <label class="field-label">Status</label>
                                    <mat-form-field>
                                        <mat-select placeholder="Select Status" formControlName="shiftStatus">
                                            <mat-option *ngFor="let list of shiftStatusList" [value]="list.id">
                                                {{list.codeDescription}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-12">
                                <div class="form-group">
                                    <label class="field-label">Start Date</label>
                                    <mat-form-field>
                                        <input matInput autofocus autocomplete="off" [matDatepicker]="startDate" placeholder="Select Start Date" formControlName="startDate">
                                        <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
                                        <mat-datepicker #startDate></mat-datepicker>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-12">
                                <div class="form-group">
                                    <label class="field-label">End Date</label>
                                    <mat-form-field>
                                        <input matInput autofocus autocomplete="off" [matDatepicker]="endDate" placeholder="Select End Date" formControlName="endDate">
                                        <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
                                        <mat-datepicker #endDate></mat-datepicker>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-action-sm">Search</button>
                        &nbsp; <button type="button" (click)="ClearFilter()" class="btn btn-action-sm">Clear</button>
                    </form>
                </div>
            </div>

        </div>
        <br />
        <div class="table-wrap">
            <div class="table-title">
                <h2>Shift List</h2>
            </div>
            <div class="table-content">
                <div class="table-responsive">
                    <table mat-table [dataSource]="dataSource" matSort>
                        <ng-container matColumnDef="description">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
                            <td mat-cell *matCellDef="let element">{{element.description}}</td>
                        </ng-container>
                        <ng-container matColumnDef="date">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Start Date & Time</th>
                            <td mat-cell *matCellDef="let element">{{element.startDate |  date :'dd/MM/yyyy hh:mm a'}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="time">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>End Date & Time</th>
                            <td mat-cell *matCellDef="let element">{{element.endDate |  date :'dd/MM/yyyy hh:mm a'}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="duration">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Duration</th>
                            <td mat-cell *matCellDef="let element">{{element.customDuration}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="location">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Location</th>
                            <td mat-cell *matCellDef="let element">{{element.locationName}}</td>
                        </ng-container>
                        <ng-container matColumnDef="status">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                            <td mat-cell *matCellDef="let element">{{element.statusName}}</td>
                        </ng-container>
                        <ng-container matColumnDef="client">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Clients</th>
                            <td mat-cell *matCellDef="let element">
                                <div *ngFor="let item of element.clientShiftInfoViewModel">
                                    <p>{{item.name}}</p>
                                </div>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Action</th>
                            <td mat-cell *matCellDef="let element">
                                <a *ngIf="element.statusName!='Pending'" [routerLink]="['/employee/logout',element.id]">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                                        <path id="iconfinder_write_126582_1_" data-name="iconfinder_write_126582 (1)"
                                            d="M2.661,10.482c-.8.8-1.661,5.035-1.661,5.375A1.135,1.135,0,0,0,2.143,17c.339,0,4.576-.862,5.375-1.661L14.057,8.8,9.2,3.943ZM13.571,1a3.48,3.48,0,0,0-2.447,1.018l-.325.325L15.657,7.2l.325-.325A3.475,3.475,0,0,0,17,4.429,3.429,3.429,0,0,0,13.571,1Z"
                                            transform="translate(-1 -1)" fill="#7b7b7b" />
                                    </svg>
                                </a>
                                <a [routerLink]="['/employee/dashboard/view-shift',element.id]">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="21.333" height="16"
                                        viewBox="0 0 21.333 16">
                                        <path id="iconfinder_view_126581_2_" data-name="iconfinder_view_126581 (2)"
                                            d="M10.667,7.333A2.668,2.668,0,0,1,8,10a2.667,2.667,0,1,0,2.667-2.667Zm0-5.333C5.2,2,0,8.2,0,10s5.2,8,10.667,8,10.667-6.2,10.667-8S16.136,2,10.667,2Zm0,13.333A5.333,5.333,0,1,1,16,10,5.334,5.334,0,0,1,10.667,15.333Z"
                                            transform="translate(0 -2)" fill="#7b7b7b" />
                                    </svg>
                                </a>
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumnsRequired"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumnsRequired;"></tr>
                    </table>
                    <mat-paginator [length]="totalCount" [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]"
                        (page)="PageIndexEvent($event)">
                    </mat-paginator>
                </div>
            </div>
        </div>
    </div>
    <lib-admin-sidebar></lib-admin-sidebar>
</div>